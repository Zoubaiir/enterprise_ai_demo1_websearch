(()=>{"use strict";const n=document.getElementById("app");n?function e(){n&&chrome.storage.local.get("assessments",t=>{const i=t?.assessments||{},s=Object.keys(i);0!==s.length?function(t){if(!n)return;const i=(t.flags||[]).slice(0,5),s=(t.images||[]).slice(0,3);n.innerHTML=`\n    <main>\n      <h1>AI Car Deal Insight</h1>\n      <div style="margin-top:8px">\n        <div style="font-weight:700">Verdict: ${t.verdict??"N/A"}</div>\n        <div style="font-size:20px;font-weight:800;margin:6px 0">Score: ${Math.round(t.overallScore??0)}</div>\n        <div style="font-size:12px;opacity:0.9;white-space:pre-wrap">${(t.rationale||[]).slice(0,5).join("\n")}</div>\n      </div>\n      <div style="margin-top:8px">\n        ${i.map(n=>`<div style="font-size:12px;color:#b00">â€¢ ${n.summary??n.code}</div>`).join("")}\n      </div>\n      <div style="margin-top:8px;display:flex;gap:6px">\n        ${s.map(n=>`<img src="${n.url}" style="width:80px;height:60px;object-fit:cover;border-radius:4px"/>`).join("")}\n      </div>\n      <div style="margin-top:10px">\n        <button id="refresh-assessment">Refresh</button>\n      </div>\n    </main>\n  `;const o=document.getElementById("refresh-assessment");o?.addEventListener("click",e)}(i[s[s.length-1]]):n&&(n.innerHTML="\n    <main>\n      <h1>AI Car Deal Insight</h1>\n      <p>No assessments yet. Open an Autotrader listing to generate one.</p>\n    </main>\n  ")})}():console.warn("Popup: missing #app container")})();
//# sourceMappingURL=popup.js.map