(()=>{"use strict";const e=window.location.href;!async function(){try{const n=await(t={url:e},new Promise((e,n)=>{chrome.runtime.sendMessage({type:"evaluate-listing",payload:t},t=>{const o=chrome.runtime?.lastError;o?n(o):e(t)})})),o=n?.assessment,i=document.createElement("div");if(i.id="ai-deal-insight-overlay",i.style.position="fixed",i.style.top="12px",i.style.right="12px",i.style.zIndex="999999",i.style.background="rgba(0,0,0,0.85)",i.style.color="#fff",i.style.padding="10px 14px",i.style.borderRadius="8px",i.style.fontFamily="Arial, sans-serif",i.style.boxShadow="0 6px 18px rgba(0,0,0,0.35)",i.style.maxWidth="320px",o){const e=document.createElement("div");e.style.fontWeight="700",e.style.marginBottom="6px",e.innerText=`Deal: ${o.verdict?.toUpperCase()??"N/A"}`;const t=document.createElement("div");t.style.fontSize="22px",t.style.fontWeight="800",t.style.marginBottom="6px",t.innerText=`Score: ${Math.round(o.overallScore??0)}`;const n=document.createElement("div");n.style.fontSize="12px",n.style.opacity="0.9",n.innerText=(o.rationale||[]).slice(0,3).join(" \n")||"No details",i.appendChild(e),i.appendChild(t),i.appendChild(n)}else i.innerText="AI evaluation did not return a result.";const l=document.createElement("button");l.innerText="Ã—",l.title="Close",l.style.position="absolute",l.style.top="6px",l.style.right="8px",l.style.background="transparent",l.style.border="none",l.style.color="#fff",l.style.fontSize="14px",l.style.cursor="pointer",l.addEventListener("click",()=>i.remove()),i.appendChild(l),document.body.appendChild(i)}catch(e){console.error("Failed to trigger evaluation",e)}var t}()})();
//# sourceMappingURL=content.js.map