{"version":3,"file":"content.js","mappings":"mBACA,MAAMA,EAAaC,OAAOC,SAASC,MACnCC,iBACI,IACI,MAAMC,QCJ6BC,EDIe,CAAEC,IAAKP,GCHtD,IAAIQ,QAAQ,CAACC,EAASC,KACzBC,OAAOC,QAAQC,YAAY,CAAEC,KAAM,mBAAoBR,WAAYD,IAC/D,MAAMU,EAAQJ,OAAOC,SAASI,UAC1BD,EACAL,EAAOK,GAGXN,EAAQJ,QDHNY,EAAaZ,GAAUY,WAEvBC,EAAYC,SAASC,cAAc,OAazC,GAZAF,EAAUG,GAAK,0BACfH,EAAUI,MAAMC,SAAW,QAC3BL,EAAUI,MAAME,IAAM,OACtBN,EAAUI,MAAMG,MAAQ,OACxBP,EAAUI,MAAMI,OAAS,SACzBR,EAAUI,MAAMK,WAAa,mBAC7BT,EAAUI,MAAMM,MAAQ,OACxBV,EAAUI,MAAMO,QAAU,YAC1BX,EAAUI,MAAMQ,aAAe,MAC/BZ,EAAUI,MAAMS,WAAa,oBAC7Bb,EAAUI,MAAMU,UAAY,8BAC5Bd,EAAUI,MAAMW,SAAW,QACtBhB,EAGA,CACD,MAAMiB,EAAQf,SAASC,cAAc,OACrCc,EAAMZ,MAAMa,WAAa,MACzBD,EAAMZ,MAAMc,aAAe,MAC3BF,EAAMG,UAAY,SAASpB,EAAWqB,SAASC,eAAiB,QAChE,MAAMC,EAAQrB,SAASC,cAAc,OACrCoB,EAAMlB,MAAMmB,SAAW,OACvBD,EAAMlB,MAAMa,WAAa,MACzBK,EAAMlB,MAAMc,aAAe,MAC3BI,EAAMH,UAAY,UAAUK,KAAKC,MAAM1B,EAAW2B,cAAgB,KAClE,MAAMC,EAAY1B,SAASC,cAAc,OACzCyB,EAAUvB,MAAMmB,SAAW,OAC3BI,EAAUvB,MAAMwB,QAAU,MAC1BD,EAAUR,WAAapB,EAAW4B,WAAa,IAAIE,MAAM,EAAG,GAAGC,KAAK,QAAU,aAC9E9B,EAAU+B,YAAYf,GACtBhB,EAAU+B,YAAYT,GACtBtB,EAAU+B,YAAYJ,EAC1B,MAnBI3B,EAAUmB,UAAY,yCAoB1B,MAAMa,EAAW/B,SAASC,cAAc,UACxC8B,EAASb,UAAY,IACrBa,EAAShB,MAAQ,QACjBgB,EAAS5B,MAAMC,SAAW,WAC1B2B,EAAS5B,MAAME,IAAM,MACrB0B,EAAS5B,MAAMG,MAAQ,MACvByB,EAAS5B,MAAMK,WAAa,cAC5BuB,EAAS5B,MAAM6B,OAAS,OACxBD,EAAS5B,MAAMM,MAAQ,OACvBsB,EAAS5B,MAAMmB,SAAW,OAC1BS,EAAS5B,MAAM8B,OAAS,UACxBF,EAASG,iBAAiB,QAAS,IAAMnC,EAAUoC,UACnDpC,EAAU+B,YAAYC,GACtB/B,SAASoC,KAAKN,YAAY/B,EAC9B,CACA,MAAOH,GACHyC,QAAQzC,MAAM,+BAAgCA,EAClD,CC1DG,IAAoCT,CD2D3C,CACKmD,E","sources":["webpack://ai-car-shopping-extension/./src/presentation/content/index.ts","webpack://ai-car-shopping-extension/./src/presentation/content/messaging.ts"],"sourcesContent":["import { sendEvaluateListingCommand } from \"./messaging\";\nconst currentUrl = window.location.href;\nasync function showAssessmentOverlay() {\n    try {\n        const response = await sendEvaluateListingCommand({ url: currentUrl });\n        const assessment = response?.assessment;\n        // Create a small overlay in the page to show the assessment summary\n        const container = document.createElement(\"div\");\n        container.id = \"ai-deal-insight-overlay\";\n        container.style.position = \"fixed\";\n        container.style.top = \"12px\";\n        container.style.right = \"12px\";\n        container.style.zIndex = \"999999\";\n        container.style.background = \"rgba(0,0,0,0.85)\";\n        container.style.color = \"#fff\";\n        container.style.padding = \"10px 14px\";\n        container.style.borderRadius = \"8px\";\n        container.style.fontFamily = \"Arial, sans-serif\";\n        container.style.boxShadow = \"0 6px 18px rgba(0,0,0,0.35)\";\n        container.style.maxWidth = \"320px\";\n        if (!assessment) {\n            container.innerText = \"AI evaluation did not return a result.\";\n        }\n        else {\n            const title = document.createElement(\"div\");\n            title.style.fontWeight = \"700\";\n            title.style.marginBottom = \"6px\";\n            title.innerText = `Deal: ${assessment.verdict?.toUpperCase() ?? \"N/A\"}`;\n            const score = document.createElement(\"div\");\n            score.style.fontSize = \"22px\";\n            score.style.fontWeight = \"800\";\n            score.style.marginBottom = \"6px\";\n            score.innerText = `Score: ${Math.round(assessment.overallScore ?? 0)}`;\n            const rationale = document.createElement(\"div\");\n            rationale.style.fontSize = \"12px\";\n            rationale.style.opacity = \"0.9\";\n            rationale.innerText = (assessment.rationale || []).slice(0, 3).join(\" \\n\") || \"No details\";\n            container.appendChild(title);\n            container.appendChild(score);\n            container.appendChild(rationale);\n        }\n        const closeBtn = document.createElement(\"button\");\n        closeBtn.innerText = \"Ã—\";\n        closeBtn.title = \"Close\";\n        closeBtn.style.position = \"absolute\";\n        closeBtn.style.top = \"6px\";\n        closeBtn.style.right = \"8px\";\n        closeBtn.style.background = \"transparent\";\n        closeBtn.style.border = \"none\";\n        closeBtn.style.color = \"#fff\";\n        closeBtn.style.fontSize = \"14px\";\n        closeBtn.style.cursor = \"pointer\";\n        closeBtn.addEventListener(\"click\", () => container.remove());\n        container.appendChild(closeBtn);\n        document.body.appendChild(container);\n    }\n    catch (error) {\n        console.error(\"Failed to trigger evaluation\", error);\n    }\n}\nvoid showAssessmentOverlay();\n","export function sendEvaluateListingCommand(payload) {\n    return new Promise((resolve, reject) => {\n        chrome.runtime.sendMessage({ type: \"evaluate-listing\", payload }, (response) => {\n            const error = chrome.runtime?.lastError;\n            if (error) {\n                reject(error);\n                return;\n            }\n            resolve(response);\n        });\n    });\n}\n"],"names":["currentUrl","window","location","href","async","response","payload","url","Promise","resolve","reject","chrome","runtime","sendMessage","type","error","lastError","assessment","container","document","createElement","id","style","position","top","right","zIndex","background","color","padding","borderRadius","fontFamily","boxShadow","maxWidth","title","fontWeight","marginBottom","innerText","verdict","toUpperCase","score","fontSize","Math","round","overallScore","rationale","opacity","slice","join","appendChild","closeBtn","border","cursor","addEventListener","remove","body","console","showAssessmentOverlay"],"sourceRoot":""}